import { useContext } from "react";
import { useNavigate } from "react-router-dom";
import { Github, Info, TitleContainer } from "../../components/profile/styles";
import { ReposContext } from "../../context/ReposContext";
import { formatDate } from "../../utils/utils";
import { Description, InfoContent, PostContainer } from "./style";

export function Post() {
  const { issue } = useContext(ReposContext);
  const navigate = useNavigate();

  return (
    <div>
      <PostContainer>
        <TitleContainer>
          <Github
            onClick={() => {
              navigate("/");
            }}
          >
            <svg
              width="12"
              height="13"
              viewBox="0 0 12 13"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_535_38)">
                <path
                  d="M8.24987 12.125C8.04426 12.125 7.83855 12.0465 7.68185 11.8896L2.86042 7.06815C2.54653 6.75425 2.54653 6.24574 2.86042 5.93185L7.68185 1.11042C7.99574 0.796526 8.50425 0.796526 8.81815 1.11042C9.13204 1.42432 9.13204 1.93283 8.81815 2.24672L4.56475 6.5L8.81865 10.7539C9.13255 11.0678 9.13255 11.5763 8.81865 11.8902C8.6617 12.0472 8.45579 12.125 8.24987 12.125Z"
                  fill="#3294F8"
                />
              </g>
              <defs>
                <clipPath id="clip0_535_38">
                  <rect
                    width="12"
                    height="12"
                    fill="white"
                    transform="translate(0 0.5)"
                  />
                </clipPath>
              </defs>
            </svg>
            VOLTAR
          </Github>
          <Github href={issue.html_url}>
            VER NO GITHUB
            <svg
              width="12"
              height="13"
              viewBox="0 0 12 13"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_512_32)">
                <path
                  d="M6.80357 1.67857C6.80357 1.23485 7.16267 0.875 7.60714 0.875H10.7988C10.9294 0.875 11.0349 0.896596 11.1278 0.936021C11.2006 0.974944 11.3111 1.03245 11.389 1.10854C11.389 1.10979 11.389 1.11105 11.3915 1.11205C11.5472 1.26825 11.6024 1.47215 11.625 1.67606C11.625 1.67706 11.625 1.67782 11.625 1.67857V4.89286C11.625 5.33733 11.2659 5.69643 10.8214 5.69643C10.377 5.69643 10.0179 5.33733 10.0179 4.89286V3.6197L5.76395 7.87109C5.45006 8.18499 4.9428 8.18499 4.62891 7.87109C4.31501 7.5572 4.31501 7.04994 4.62891 6.73605L8.8803 2.48214H7.60714C7.16267 2.48214 6.80357 2.12229 6.80357 1.67857ZM0.375 3.28571C0.375 2.39802 1.09445 1.67857 1.98214 1.67857H4.39286C4.83733 1.67857 5.19643 2.03842 5.19643 2.48214C5.19643 2.92662 4.83733 3.28571 4.39286 3.28571H1.98214V10.5179H9.21429V8.10714C9.21429 7.66267 9.57338 7.30357 10.0179 7.30357C10.4623 7.30357 10.8214 7.66267 10.8214 8.10714V10.5179C10.8214 11.4043 10.1007 12.125 9.21429 12.125H1.98214C1.09445 12.125 0.375 11.4043 0.375 10.5179V3.28571Z"
                  fill="#3294F8"
                />
              </g>
              <defs>
                <clipPath id="clip0_512_32">
                  <rect
                    width="12"
                    height="12"
                    fill="white"
                    transform="translate(0 0.5)"
                  />
                </clipPath>
              </defs>
            </svg>
          </Github>
        </TitleContainer>
        <h2>{issue.title}</h2>
        <InfoContent>
          <Info>
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11.0343 25.156C11.0343 25.28 10.8952 25.3793 10.7198 25.3793C10.5202 25.3979 10.381 25.2986 10.381 25.156C10.381 25.0319 10.5202 24.9326 10.6956 24.9326C10.877 24.914 11.0343 25.0133 11.0343 25.156ZM9.15323 24.8768C9.11089 25.0009 9.23186 25.1435 9.41331 25.1808C9.57056 25.2428 9.75202 25.1808 9.78831 25.0567C9.8246 24.9326 9.70968 24.79 9.52823 24.7341C9.37097 24.6907 9.19556 24.7527 9.15323 24.8768ZM11.8266 24.7713C11.6512 24.8148 11.5302 24.9326 11.5484 25.0753C11.5665 25.1994 11.7238 25.28 11.9052 25.2366C12.0806 25.1932 12.2016 25.0753 12.1835 24.9512C12.1653 24.8334 12.002 24.7527 11.8266 24.7713ZM15.8065 1C7.41734 1 1 7.53216 1 16.1362C1 23.0158 5.22177 28.9028 11.252 30.9747C12.0262 31.1174 12.2984 30.6273 12.2984 30.2241C12.2984 29.8395 12.2802 27.718 12.2802 26.4152C12.2802 26.4152 8.04637 27.3457 7.15726 24.5666C7.15726 24.5666 6.46774 22.7614 5.47581 22.2962C5.47581 22.2962 4.09073 21.3223 5.57258 21.3409C5.57258 21.3409 7.07863 21.4649 7.90726 22.9414C9.23185 25.3359 11.4516 24.6473 12.3165 24.2379C12.4556 23.2453 12.8488 22.5567 13.2843 22.1473C9.90323 21.7627 6.49194 21.2602 6.49194 15.2926C6.49194 13.5867 6.95161 12.7306 7.91935 11.6388C7.7621 11.2356 7.24798 9.57307 8.07661 7.4267C9.34073 7.02348 12.25 9.10161 12.25 9.10161C13.4597 8.75422 14.7601 8.57433 16.0484 8.57433C17.3367 8.57433 18.6371 8.75422 19.8468 9.10161C19.8468 9.10161 22.756 7.01728 24.0202 7.4267C24.8488 9.57927 24.3347 11.2356 24.1774 11.6388C25.1452 12.7368 25.7379 13.5929 25.7379 15.2926C25.7379 21.2788 22.1754 21.7565 18.7944 22.1473C19.3508 22.6374 19.8226 23.5679 19.8226 25.0257C19.8226 27.1162 19.8044 29.703 19.8044 30.2117C19.8044 30.6149 20.0827 31.105 20.8508 30.9623C26.8992 28.9028 31 23.0158 31 16.1362C31 7.53216 24.1956 1 15.8065 1ZM6.87903 22.3955C6.8004 22.4575 6.81855 22.6002 6.92137 22.718C7.01815 22.8173 7.15726 22.8607 7.23589 22.7801C7.31452 22.718 7.29637 22.5753 7.19355 22.4575C7.09677 22.3582 6.95766 22.3148 6.87903 22.3955ZM6.22581 21.893C6.18347 21.9736 6.24395 22.0729 6.36492 22.1349C6.46169 22.1969 6.58266 22.1783 6.625 22.0915C6.66734 22.0108 6.60685 21.9116 6.48589 21.8496C6.36492 21.8123 6.26815 21.8309 6.22581 21.893ZM8.18548 24.1014C8.08871 24.182 8.125 24.3681 8.26411 24.486C8.40323 24.6287 8.57863 24.6473 8.65726 24.548C8.73589 24.4674 8.6996 24.2813 8.57863 24.1634C8.44556 24.0207 8.26411 24.0021 8.18548 24.1014ZM7.49597 23.1895C7.39919 23.2515 7.39919 23.4128 7.49597 23.5555C7.59274 23.6982 7.75605 23.7602 7.83468 23.6982C7.93145 23.6175 7.93145 23.4562 7.83468 23.3136C7.75 23.1709 7.59274 23.1088 7.49597 23.1895Z"
                fill="#C4D4E3"
              />
            </svg>
            <p>{issue.user.login}</p>
          </Info>

          <Info>
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6.96094 1.61719V2.67188H11.1797V1.61719C11.1797 1.0348 11.651 0.5625 12.2344 0.5625C12.8177 0.5625 13.2891 1.0348 13.2891 1.61719V2.67188H14.8711C15.7445 2.67188 16.4531 3.38016 16.4531 4.25391V5.83594H1.6875V4.25391C1.6875 3.38016 2.39579 2.67188 3.26953 2.67188H4.85156V1.61719C4.85156 1.0348 5.32288 0.5625 5.90625 0.5625C6.48962 0.5625 6.96094 1.0348 6.96094 1.61719ZM1.6875 6.89062H16.4531V15.8555C16.4531 16.7289 15.7445 17.4375 14.8711 17.4375H3.26953C2.39579 17.4375 1.6875 16.7289 1.6875 15.8555V6.89062ZM4.32422 9C4.03286 9 3.79688 9.2373 3.79688 9.52734V12.6914C3.79688 12.9814 4.03286 13.2188 4.32422 13.2188H7.48828C7.77832 13.2188 8.01562 12.9814 8.01562 12.6914V9.52734C8.01562 9.2373 7.77832 9 7.48828 9H4.32422Z"
                fill="#3A536B"
              />
            </svg>
            <p>{formatDate(issue.created_at)}</p>
          </Info>

          <Info>
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.01482 1.6875C4.34619 1.6875 0.563326 4.7614 0.563326 8.55507C0.563326 10.1937 1.26824 11.691 2.44431 12.8704C2.0316 14.5335 0.652472 16.016 0.635963 16.0325C0.561675 16.1068 0.541039 16.2218 0.586438 16.3208C0.627768 16.4198 0.719259 16.4792 0.826565 16.4792C3.01395 16.4792 4.62684 15.4306 5.46878 14.7824C6.54514 15.1882 7.74696 15.4226 9.01482 15.4226C13.6834 15.4226 17.4375 12.3478 17.4375 8.55507C17.4375 4.76239 13.6834 1.6875 9.01482 1.6875Z"
                fill="#3A536B"
              />
            </svg>
            <p>{issue.comments} coment√°rios</p>
          </Info>
        </InfoContent>
      </PostContainer>
      <Description>
        <p>{issue.body}</p>
      </Description>
    </div>
  );
}
